<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vue Playground</title>
  </head>
  <body>
    <div id="app"></div>
    <!-- <script type="module" src="/src/main.js"></script> -->
    <script>
      // v-dom
      function h(tag, props, children) {
        return {
          tag,
          props,
          children,
        }
      }

      function mount(vnode, container) {
        const el = (vnode.el = document.createElement(vnode.tag))

        // props
        if (vnode.props) {
          for (const key in vnode.props) {
            const value = vnode.props[key]
            el.setAttribute(key, value)
          }
        }

        // children
        if (vnode.children) {
          if (typeof vnode.children === 'string') {
            el.textContent = vnode.children
          } else {
            vnode.children.forEach((child) => {
              mount(child, el)
            })
          }
        }

        container.appendChild(el)
      }

      mount(
        h('div', { class: 'box' }, [h('div', null, 'hello world')]),
        document.getElementById('app')
      )
    </script>
  </body>
</html>
